version: 1

meta:
  environment: docker
  toolchain:
    name: docker

build:
  dockerfile: Dockerfile
  args:
    REACT_APP_API_URL: https://amvera-limslava-run-trader
    REACT_APP_WS_URL: wss://amvera-limslava-run-trader

run:
  containerPort: 80
  env:
    # Server
    PORT: 80
    NODE_ENV: production
    JWT_EXPIRES_IN: 24h
    # CORS
    CORS_ORIGINS: https://amvera-limslava-run-trader
    FRONTEND_URL: https://amvera-limslava-run-trader

deploy:
  replicas: 1
  resources:
    memory: 1024Mi
    cpu: 500m